# 디렉토리 구조
```css
milvus/
│
├── docker-compose.yml
└── database/
    ├── etcd/
    ├── minio/
    └── milvus/
```

---
# 실행 방법
## docker-compose 실행
```shell
docker-compose up -d
```

---
# 접속방법 
## MinIO 웹 콘솔
```shell
http://localhost:9001
# 아이디 / 비번: minioadmin / minioadmin
```
## Milvus(Attu) 웹 콘솔
```shell
http://localhost:8000
# 아이디 / 비번: root / mysecurepassword
```

---
# Milvus vs MinIO 개념 비교
| 항목            | **Milvus**                                                          | **MinIO**                                     |
| ------------- | ------------------------------------------------------------------- | --------------------------------------------- |
| **주요 역할**     | 벡터 검색 엔진 (Vector Database)                                          | 객체 스토리지 (Object Storage)                      |
| **사용 목적**     | 유사도 검색, 임베딩 저장, AI 검색 성능 최적화                                        | 파일 저장, 백업, 로그, 모델 등 대용량 파일 관리                 |
| **데이터 형태**    | 벡터(Vector), 메타데이터                                                   | 파일(Blob), 이미지, 영상, 모델 파일 등                    |
| **예시 사용처**    | - 검색 서비스 (이미지, 문서, 추천 시스템)<br>- RAG(Vector DB + LLM)<br>- AI 피처 스토어 | - S3 대체 스토리지<br>- ML 모델 파일 저장<br>- 로그, 백업 관리  |
| **저장 방식**     | 컬렉션(Collection) 기반 (DB 스키마 필요)                                      | 버킷(Bucket) 기반 (파일 단위 관리)                      |
| **접근 방식**     | gRPC / REST API                                                     | S3 API (REST 기반)                              |
| **필수 여부**     | Milvus는 독립 실행 가능 (MinIO 없이 가능)                                      | Milvus와 함께 사용하면 벡터 및 메타데이터 백업 가능              |
| **대표 유사 서비스** | Pinecone, Qdrant, Weaviate, pgvector                                | AWS S3, GCP Cloud Storage, Azure Blob Storage |

---
## Milvus가 MinIO를 필요로 하는 이유
- Milvus는 벡터 검색 및 인덱싱에 특화된 데이터베이스이지만, 내부적으로 다음 데이터를 관리해야 합니다:
  - 벡터 데이터
  - 인덱스 데이터
  - 시스템 메타데이터 (컬렉션, 파티션 정보)
  - 백업 데이터

- Milvus 자체가 대규모 파일 저장소가 아니기 때문에, 이러한 대용량 데이터는 외부 스토리지 시스템에 맡기는 것이 일반적입니다. 여기서 MinIO가 역할을 합니다.
  > Milvus = 벡터 검색 엔진
  > MinIO = Milvus가 벡터 데이터를 저장하는 S3 호환 스토리지

---
## 간단한 비유
| 비유           | Milvus          | MinIO          |
| ------------ | --------------- | -------------- |
| **도서관 비유**   | 사서 (검색 담당)      | 서고 (책 저장소)     |
| **웹 서비스 비유** | 검색 엔진 (구글, 네이버) | AWS S3 (파일 서버) |

---
# RAG 구조 예시 다이어그램
```lua
+---------------------------+
|         Client            |
|  (검색, 질의, API 호출)    |
+-------------+-------------+
              |
              v
+---------------------------+
|       LLM / Embedding     |
+-------------+-------------+
              |
              v
      +-------------------+
      |      Milvus       |  <-- 검색 엔진
      +-------------------+
        |          |
  [메타데이터]   [대용량 벡터 파일]
        |          |
      +-----+   +-------+
      |etcd |   | MinIO |
      +-----+   +-------+

```

---
## 데이터 흐름 예시 (RAG 시스템에서)
- RAG 시스템을 Milvus + MinIO + LLM 조합으로 구성했을 때의 동작 과정입니다.

```css
[문서 업로드] -> [임베딩 생성] -> [Milvus에 저장] -> [MinIO에 실제 벡터 파일 저장]
```

### 과정 설명
1. 사용자가 문서를 업로드
2. LLM 또는 임베딩 모델로 텍스트를 벡터화 (Embedding)
3. Milvus에 벡터와 메타데이터 저장
    - Milvus의 메타데이터(DB 정보)는 etcd에 저장
    - 벡터와 인덱스 파일은 MinIO에 저장
4. 검색 시:
    - Milvus가 MinIO에서 벡터 데이터를 불러와 검색 실행


